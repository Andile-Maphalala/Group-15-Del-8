<app-is-logged-in></app-is-logged-in>

<mat-sidenav-container class="example-container"  >
  <mat-sidenav mode="side" opened> 
    <app-nav></app-nav>


  </mat-sidenav>
  <mat-sidenav-content>
    <app-username></app-username>
        <mat-card>  
          <mat-toolbar color="primary">  
            <div class="container w-100 row">
            <div align="center" style="color:white; text-align: left;  " class="col-6">  
             Make Booking
           
             </div>

             <div align="right"  class="col-6">
              
              <button class="btn btn-primary"  routerLink="/PropertyDetails" style="vertical-align: middle; display: inline-flex; line-height: 24px;" type="button" >
                   
                <i style=" color: rgb(66, 252, 9);" class="material-icons">
                    keyboard_backspace
                  </i>
                  <span>  
                    
                    Go Back To View Property</span>

              </button>
              
                
                
                

              

             </div>
             <br>
          
          

          </div>
          </mat-toolbar>  
        <br><br>  
          <mat-card-content *ngIf="!noBoookings" >  
           
          <mat-label>Pick a slot for the property viewing</mat-label>
              <table class="mat-elevation-z8 table w-100" >
          <thead class="thead-dark">
              <tr>

                <th>Employee Name</th>
                <th>Employee Surname</th>
                <th>Employee Contact</th>
                  <th>Date</th>
                  <th>Start Date</th>
                  <th>End Date</th>
                  
                  <th>Action</th>
                      
              </tr>
          </thead>
          <tbody>
                    <tr *ngFor="let item of allBookings" >
                      <td hidden>{{item.EmployeeDateTimeSLotID}}</td> 
                      <td>{{item.Name}}</td> 
                      <td>{{item.Surname}}</td> 
                      <td>{{item.PhoneNumber}}</td>
                      <td>{{item.Date}}</td> 
                      <td>{{item.Startime}}</td>  
                      <td>{{item.Endtime}}</td> 
                        
                    <td> <button mat-raised-button color="primary" (click)="OnSubmit(item.EmployeeDateTimeSLotID)">Book</button></td>
                      
                  </tr>
      
           
          </tbody>
        </table> 
          </mat-card-content> 
          <div *ngIf=" noBoookings" class="alert alert-danger">
            There are no available booking slots.Please contact us on 0123456789/info@inturbidus.com for alternative arrangments!
        </div> 
        </mat-card>  

   
         
        
              </mat-sidenav-content>
            </mat-sidenav-container>
        
        
            
            <div id="MyModal1"  mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
                      <span aria-hidden="true">×</span>
                    </button>
                    <h4 class="modal-title w-100" id="myModalLabel" style="color:green">View property Page</h4>
                  </div>
                  <div class="modal-body">
                    <div class="modal-body">
                      <a href="https://motlatso-baps.github.io/HelpInturbidus/pages/6263make-viewing-booking.html" target="_blank" mat-menu-item>
                       
                        <mat-icon class="icons">help_outline</mat-icon>        
                       Go to Help</a>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
              </div>
            </div>

             <!-- /////////////////////////////////////////Area Modals //////////////////////////-->
        
        <!-- Add Area modal -->
        
        <!-- Modal -->
        <div class="modal fade" id="addAreaModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header alert-primary ">
                <h3 class="modal-title text-center" id="exampleModalLabel" style="text-align: center;">Add New Booking</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <label for="exampleFormControlInput1">Employee Type Name</label>
                  <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">Add New Booking</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Edit Area modal -->
        
        <!-- Modal -->
        <div class="modal fade" id="editEmployeeTypeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header  alert-info ">
                <h3 class="modal-title text-center" id="exampleModalLabel" style="text-align: center;">Booking Confirmation</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
               <p>Are you sure you want to make the booking?</p>
             
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
              </div>
            </div>
          </div>
        </div>
        
        
        <!--Booking modal -->
        <ng-template #content let-modal>
          <div class="modal-header alert-success">
            <h3 class="modal-title text-center"  style="text-align: center;">Successfully Booked</h3>
            <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()" routerLink="/login">
              <span aria-hidden="true">&times;</span>
            </button> -->
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="exampleFormControlInput1">Your booking was successfully made.You may view your booking details in Booking Management!</label>
              <label for="exampleFormControlInput1">Have a good day!</label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" ngbAutofocus  class="btn btn-success" (click)="modal.close()" routerLink="/" >Ok</button>
          </div>
        </ng-template>
        
            
        <!--Booking modal -->
        <ng-template #content1 let-modal>
          <div class="modal-header alert-danger">
            <h3 class="modal-title text-center"  style="text-align: center;">Error with booking</h3>
            <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()" routerLink="/login">
              <span aria-hidden="true">&times;</span>
            </button> -->
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="exampleFormControlInput1">You have already made a booking for this property .You may view your booking details in Booking Management!</label>
              <label for="exampleFormControlInput1">Have a good day!</label>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" ngbAutofocus  class="btn btn-success" (click)="modal.close()" routerLink="/" >Ok</button>
          </div>
        </ng-template>
        <div id="MyModal"  mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close pull-right" aria-label="Close" data-dismiss="modal" (click)="basicModal.hide()">
                  <span aria-hidden="true">×</span>
                </button>
                <h4 class="modal-title w-100" id="myModalLabel" style="color:rgb(60, 191, 196)">Make Booking Page</h4>
              </div>
              <div class="modal-body">
                <p>This is the Make Booking Page.</p><br/>
                <p style="color:rgb(60, 191, 196); font-weight: bold">Here you can select to:</p>
                <p>-Click BOOK to MAKE BOOKING Page </p>
                <p>-Click GO  BACK TO VIEW PROPERTY to navigate to VIEW PROPERTY Page</p>
                <p>-Click BOOKING MANAGEMENT to navigate to MY BOOKING Page</p>
                
        
                
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
              </div>
            </div>
          </div>
        </div> 