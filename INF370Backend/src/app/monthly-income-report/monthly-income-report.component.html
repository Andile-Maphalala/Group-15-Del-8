<mat-sidenav-container class="example-container"  >
  <mat-sidenav mode="side" opened> 
    <app-nav></app-nav>
  </mat-sidenav>
  <mat-sidenav-content>
    <app-username></app-username>
        <mat-card>  
          <mat-toolbar color="primary">  
            <div class="container w-100 row">
            <div align="center" style="color:white; text-align: left;  " class="col-6">  
             Total Monthly Income Report 
           
             </div>

             <div align="right"  class="col-6">
              
                 
                
                <!-- <div>
                  <i class="fa fa-print"></i> Print Report
                </div> -->
                <div *ngIf="PAYMENTs!=null">
                  <!-- <button class="btns" mat-raised-button color="primary" (click)="DownloadPDF()">Export as PDF</button> -->

                </div>
                

              

             </div>
             <br>
          
          

          </div>
          </mat-toolbar>  
        <br><br>  
    
          <mat-card-content>  

            
            <form [formGroup]="dateForm"  (ngSubmit)="onSubmit()" novalidate>
            <div >
              <mat-form-field>
                <mat-label>Start Date</mat-label>
                <input matInput [matDatepicker]="pickerStart"  [max]="date"  type="text" #startDate formControlName="startDate">
                <mat-datepicker-toggle matSuffix [for]="pickerStart"></mat-datepicker-toggle>
                <mat-datepicker #pickerStart></mat-datepicker>
              </mat-form-field>

             </div>
             <div>
              <mat-form-field>
                <mat-label>End Date</mat-label>
                <input matInput [matDatepicker]="pickerEnd"  type="text" [max]="date"  [min]="startDate.value |date:'yyyy-MM-dd'"  #endDate formControlName="endDate">
                <mat-datepicker-toggle matSuffix [for]="pickerEnd"></mat-datepicker-toggle>
                <mat-datepicker   #pickerEnd></mat-datepicker>
              </mat-form-field>
             </div>
             <div>
              <button mat-raised-button color="primary" [disabled]="!dateForm.valid || (startDate.value |date:'yyyy-MM-dd')> (endDate.value |date:'yyyy-MM-dd') " type="submit">Generate Report</button>
             </div>
            </form>
             <br>
          
              <table *ngIf="PAYMENTs!=null" class="mat-elevation-z8 table w-100" id="test"  >
          <thead class="thead-dark">
              <tr>
                <th>Payment Date</th>
                  <th>Reference Number</th>
                  <th>Amount</th>
                  
                  
                  
                      
              </tr>
          </thead>
          <tbody>
                  <tr *ngFor="let orderDetail of PAYMENTs">
                    <td>{{orderDetail.Date |  date:'dd/MM/yyyy' }}</td>
                    <td>{{orderDetail.Reference}}</td>
                      <td>R{{orderDetail.Amount }}</td>
                      
                  </tr>
           
          </tbody>
       
         
        </table> 
        <label *ngIf="PAYMENTs!=null">
          <b>Total Income:</b> R{{SUMs}}
        </label>
  
        <div *ngIf="chart" class="reportChart chartW" >

          <canvas id="canvas" >
          
          {{chart}}
          </canvas>
          
        </div>
        
          </mat-card-content>  
   </mat-card>  
   </mat-sidenav-content>
            </mat-sidenav-container>
        
            <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog">
              
                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Monthly Income page</h4>
                  </div>
                    <div class="modal-body">
                      <a href="https://motlatso-baps.github.io/HelpInturbidus/pages/5252total-monthly-income.html" target="_blank" mat-menu-item>
                       
                  <mat-icon class="icons">help_outline</mat-icon>        
                       Go to Help</a>
                    </div>
                  
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>
                
              </div>
            </div>  
        
            <div id="MyModal"  class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close pull-right" aria-label="Close">
                      <span aria-hidden="true">Ã—</span>
                    </button>
                    <h4 class="modal-title w-100" id="myModalLabel" style="color:rgb(60, 191, 196)"> Monthly Income Report Page</h4>
                  </div>
                  <div class="modal-body">
                    <p>This is the Monthly Income Report  Page.</p><br/>
                    <p style="color:rgb(60, 191, 196); font-weight: bold">Here you can select to:</p>
                    <p>-Click START DATE  to specify the start date</p>
                    <p>-Click END DATE  to specify the end date</p>
                    <p>-Click GENERATE REPORT button  to generate Total Monthly Income Report</p>
                  
           
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-info" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>      
        

             <!-- /////////////////////////////////////////Area Modals //////////////////////////-->
        
        <!-- Add Area modal -->
        
        <!-- Modal -->
        <div class="modal fade" id="addAreaModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header alert-primary ">
                <h3 class="modal-title text-center" id="exampleModalLabel" style="text-align: center;">Add New Booking</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <label for="exampleFormControlInput1">Employee Type Name</label>
                  <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success">Add New Booking</button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Edit Area modal -->
        
        <!-- Modal -->
        <div class="modal fade" id="editEmployeeTypeModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header  alert-danger ">
                <h3 class="modal-title text-center" id="exampleModalLabel" style="text-align: center;">Error Notification</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
               <p>Please make sure that the entered dates are correct!</p>
             
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                
              </div>
            </div>
          </div>
        </div>
        
        
        <!-- Delete Area modal -->
        
        
        