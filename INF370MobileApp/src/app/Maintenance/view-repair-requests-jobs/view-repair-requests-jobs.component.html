<body>
  <ion-app>
    <div class="ion-page" id="main-content">
      <ion-header>
        <ion-toolbar color ="primary">
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <ul class="nav navbar-nav navbar-right nav-item nav-link">
              <a routerLink='/Home'><li style=" font-size: 15px; color: white; "><ion-icon name="home-sharp"></ion-icon></li></a>
            </ul>
          </ion-buttons>
          <ion-title style=" font-size: 15px;">View Repair Requests Jobs</ion-title>
        </ion-toolbar>
        
      </ion-header>
      <ion-content class="ion-padding">
        <div textalign="right"  >
          <button class="btn btn-primary" style="text-align: left; display: inline-flex; line-height: 24px;" type="button" routerLink='/ViewCompletedJobs'>
             
                View Completed Jobs

          </button>

         </div>
     
      
         <ion-item>
          <ion-label position="stacked">Search</ion-label>
          <ion-input  [(ngModel)]="searchedKeyword" placeholder="Search Keyword" required type="text"></ion-input>
        </ion-item>
        <ion-item *ngFor ="let job of alljobs | async  |  filter:searchedKeyword">
          <ion-label class="decision" position="stacked"><strong>Job Description:</strong>{{job.DESCRIPTION}}</ion-label>
          <ion-label class="decision" position="stacked"><strong>Job Type:</strong>{{job.JOBTYPE}}</ion-label>
          <ion-label class="decision" position="stacked"><strong>Property Address:</strong>{{job.ADDRESS}}</ion-label>
          <ion-label class="decision" position="stacked"><strong>Date Requested:</strong>{{job.DATEREQUESTED}}</ion-label>
          <ion-label class="decision" position="stacked"><strong>Client Name:</strong>{{job.CLIENTNAME}}  {{job.CLIENTSURNAME}}</ion-label>
          <ion-label class="decision" position="stacked"><strong>Client Number:</strong>{{job.CLIENTNUMBER}}</ion-label>
          <br>
          <div class="row" > 
          <ion-item>
            <ion-button type="button" (click)="ViewJobTasks(job.JOBID)"  >View Job tasks </ion-button> 
            
            <ion-button  *ngIf="job.COMPLETED == 'Complete'" type="button"  (click)="CompleteJob(job.JOBID)" >Complete Job</ion-button> 
          </ion-item>   
          </div>
          
    

        </ion-item>
      </ion-content>
    </div>
  </ion-app>


</body>